[
  {
    "url": "https://blog.mithis.net/archives/hardware/2186-nmigen-new-improved-by-whitequark",
    "title": "nMigen ‚Äì a new improved Migen developed by whitequark!",
    "content": "<div class=\"entry-content\">\n<p>As people may know, I‚Äôm a big supporter of the <a href=\"https://github.com/m-labs/migen\" target=\"_blank\">Migen</a> and associated <a href=\"https://github.com/enjoy-digital/litex\" target=\"_blank\">LiteX ecosystem</a>. As of today if you are starting a new project today, I would instead recommend that you chose to use <a href=\"https://github.com/nmigen/nmigen\">nMigen</a> instead.</p>\n<p><a href=\"https://github.com/nmigen/nmigen\">nMigen, A refreshed Python toolbox for building complex digital hardware</a> is a project that <a href=\"https://whitequark.org/\">whitequark</a> has been working on for the last couple of years and I‚Äôm really liking the new improve syntax and the fact that it <a href=\"https://github.com/YosysHQ/yosys\">interfaces directly to Yosys</a>.</p>\n<p>There seems a lot of interesting things happening in the <a href=\"https://github.com/nmigen/nmigen\">nMigen ecosystem</a>;</p>\n<ul>\n<li><a href=\"https://lambdaconcept.com/\">Lambda Concept</a> has¬†built an <a href=\"https://github.com/lambdaconcept/minerva\">32-bit RISC-V soft processor called Minerva</a>. The CPU core currently implements the RISC-V RV32IM instruction set, is pipelined on 6 stages and largely inspired <a href=\"https://en.wikipedia.org/wiki/LatticeMico32\">by the LatticeMico32 processor</a>.</li>\n<li><a href=\"https://www.youtube.com/channel/UCBcljXmuXPok9kT_VGA3adg\" target=\"_blank\">Robert Baruch</a> has <a href=\"https://www.youtube.com/watch?v=85ZCTuekjGA\">a multipart series where he uses nMigen ‚Äî a Python toolbox ‚Äî to recreate a 6800 CPU</a> like the one used in many vintage video games and pinball machines.</li>\n<li><a href=\"https://twitter.com/ktemkin\">Kate Temkin</a> is also working on creating <a href=\"https://luna.readthedocs.io/en/latest/gateware/usb2_device.html\">a new USB 2.0 protocol stack in nMigen</a> for <a href=\"https://github.com/greatscottgadgets/luna\">the LUNA: a USB multitool (&amp; nMigen library)</a>. I believe that she is also hoping to work on a USB 3.0 stack using the ECP5 high speed transceivers by <a href=\"https://github.com/enjoy-digital/daisho\">rewriting the Daisho core</a> and <a href=\"https://github.com/enjoy-digital/usb3_pipe\">the work that Enjoy Digital did to make a transceivers adapter</a>.</li>\n</ul>\n</div>",
    "date": "2020-05-02T10:12:03+10:00",
    "categories": [
      "Hardware"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "As people may know, I‚Äôm a big supporter of the Migen and associated LiteX ecosystem. As of today if you are starting a new project today, I would instead recommend...",
    "slug": "nmigen-new-improved-by-whitequark"
  },
  {
    "url": "https://blog.mithis.net/archives/useful-bits/2172-using-identitiesonly-without-key-files",
    "title": "Using ‚ÄúIdentitiesOnly‚Äù without key files",
    "content": "<div class=\"entry-content\">\n<p>If you want to restrict the keys that ssh tries when connecting to a server, you need to use the <em>IdentityFile</em> and <em>IdentitiesOnly</em> <a href=\"http://linux.die.net/man/5/ssh_config\">configuration options in your ssh_config</a>. </p>\n<p>However, a couple of the keys I have are auto generated, with the key being loaded directly into ssh-agent and never written to a file on disk. For hopefully obvious reasons, you can‚Äôt dump a private key back out of the agent, but it turns out that <em>IdentityFile</em> only needs the public key which you <strong>can</strong> get.</p>\n<p>I ended up using the following script to dump the public keys to files;</p>\n<blockquote>\n<pre><code># Dump the public keys\r\nfor KEY in $(ssh-add -l | sed -e's/[^ ]\\+ [^ ]\\+ \\([^ ]\\+\\) .*/\\1/'); do\r\n  if echo $KEY | grep -q '^/'; then\r\n    continue\r\n  fi\r\n  export KEY_FILE=\"$HOME/.ssh/agent.$(echo $KEY | sed -e's/[^A-Za-z0-9]/_/g').pub\"\r\n  echo \"Saving $KEY into $KEY_FILE\"\r\n  ssh-add -L | grep $KEY &gt; $KEY_FILE\r\ndone\r\n</code></pre>\n</blockquote>\n<p>Then I added the following to the ssh_config</p>\n<blockquote><p><code>  IdentitiesOnly true<br/>\n  IdentityFile ~/.ssh/agent.keyname.pub<br/>\n</code>\n</p></blockquote>\n<p>When running with ‚Äússh -vv‚Äù I see the following in the output;</p>\n<blockquote><p><code>debug2: set_newkeys: mode 1<br/>\ndebug1: SSH2_MSG_NEWKEYS sent<br/>\ndebug1: expecting SSH2_MSG_NEWKEYS<br/>\ndebug2: set_newkeys: mode 0<br/>\ndebug1: SSH2_MSG_NEWKEYS received<br/>\ndebug1: SSH2_MSG_SERVICE_REQUEST sent<br/>\ndebug2: service_accept: ssh-userauth<br/>\ndebug1: SSH2_MSG_SERVICE_ACCEPT received<br/>\ndebug2: key: /home/tansell/.ssh/agent.keyb.pub (0x2257da0), explicit<br/>\ndebug1: Authentications that can continue: publickey,password<br/>\ndebug1: Next authentication method: publickey<br/>\ndebug1: Offering ECDSA public key: //home/tansell/.ssh/agent.keyb.pub<br/>\ndebug2: we sent a publickey packet, wait for reply<br/>\n</code>\n</p></blockquote>\n</div>",
    "date": "2016-05-03T12:26:52+10:00",
    "categories": [
      "Useful Bits"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "If you want to restrict the keys that ssh tries when connecting to a server, you need to use the IdentityFile and IdentitiesOnly configuration options in your ssh_config. However, a...",
    "slug": "using-identitiesonly-without-key-files"
  },
  {
    "url": "https://blog.mithis.net/archives/summer-of-code/2169-timvideos-us-and-google-summer-of-code-2016",
    "title": "TimVideos.us and Google Summer of Code 2016!",
    "content": "<div class=\"entry-content\">\n<p>This is a <a href=\"https://hdmi2usb.tv/gsoc/hdmi2usb/2016/03/14/gsoc-2016/\">cross post</a> from the <a href=\"https://hdmi2usb.tv\">HDMI2USB</a> website.</p>\n<blockquote>\n<h1><a href=\"https://hdmi2usb.tv/timvideos/hdmi2usb/2016/01/11/new-year-roadmap/\">TimVideos.us and Google Summer of Code 2016!</a></h1>\n<p>The <a href=\"https://code.timvideos.us/\">TimVideos.us project</a> is happy to announce that it has been selected to participate in the <a href=\"https://developers.google.com/open-source/gsoc/\">Google Summer of Code for 2016 </a>(GSoC). GSoC is a program where students are paid to contribute to selected open source projects over the northern hemisphere summer, <a href=\"http://google-opensource.blogspot.com.au/2013/02/flip-bits-not-burgers-google-summer-of.html\">flip bits not burgers</a>!</p>\n<p><a href=\"https://developers.google.com/open-source/gsoc/timeline\"><strong>The application period is now open</strong></a> and <a href=\"https://code.timvideos.us/summer-of-code/\">students have until 25 March 19:00 UTC to apply to work with the TimVideos.us project</a>. The <a href=\"https://github.com/timvideos/getting-started/issues\">list of proposal ideas</a> includes contributing to the <a href=\"https://hdmi2usb.tv/\">HDMI2USB</a> and things related to the <a href=\"https://www.crowdsupply.com/numato-lab/opsis\">Numato Opsis</a>.</p>\n<p><img alt=\"GSoC Logo 2016\" class=\"aligncenter\" src=\"https://developers.google.com/open-source/gsoc/resources/downloads/GSoC2016Logo.jpg\"/></p>\n<p>Due to the focus on hardware, we are very interested in students who are interested in things like <a href=\"https://en.wikipedia.org/wiki/Hardware_description_language\">VHDL/Verilog and other HDLs</a>, embedded C programming and operating systems and <a href=\"https://en.wikipedia.org/wiki/Circuit_design\">electronic circuit/PCB design</a>. Some possible ideas include;</p>\n<ul>\n<li><a href=\"https://github.com/timvideos/getting-started/issues/5\">Working on USB 3.0 support for ultra high speed video capture.</a></li>\n<li>Porting a real operating system <a href=\"https://github.com/timvideos/getting-started/issues/30\">such as Linux</a> or RTEMS to <a href=\"https://m-labs.hk/gateware.html\">our SoC</a> to <a href=\"https://github.com/timvideos/getting-started/issues/33\">allow easier development of new features</a>.</li>\n<li>Making use of the <a href=\"https://github.com/timvideos/getting-started/issues/32\">Ethernet interface for connecting multiple devices together</a> and alternative capture interfaces.</li>\n<li><a href=\"https://github.com/timvideos/getting-started/issues/2\">Creating new expansion board and supporting the professional SDI standard</a>.</li>\n<li><a href=\"https://github.com/timvideos/getting-started/issues\">and many, many more</a>.</li>\n</ul>\n<p>If you are interested in applying, your first point of call should be <a href=\"https://code.timvideos.us/summer-of-code/\">our Google Summer of Code page</a>. Even if you can‚Äôt apply to GSoC, you can also help us by forwarding <a href=\"https://hdmi2usb.tv/gsoc/hdmi2usb/2016/03/14/gsoc-2016/\">this message to anyone you might think who is interested!</a></p>\n<p><img alt=\"TimVideos Logo\" class=\"aligncenter\" src=\"https://code.timvideos.us/img/logo.png\"/></p>\n</blockquote>\n</div>",
    "date": "2016-03-15T17:32:13+10:00",
    "categories": [
      "Summer Of Code"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "This is a cross post from the HDMI2USB website. TimVideos.us and Google Summer of Code 2016! The TimVideos.us project is happy to announce that it has been selected to participate...",
    "slug": "timvideos-us-and-google-summer-of-code-2016"
  },
  {
    "url": "https://blog.mithis.net/archives/lca/2167-timvideos-us-2016-new-years-resolutions",
    "title": "TimVideos.us 2016 New Year‚Äôs Resolutions",
    "content": "<div class=\"entry-content\">\n<p>This is a <a href=\"https://hdmi2usb.tv/timvideos/hdmi2usb/2016/01/11/new-year-roadmap/\">cross post</a> from the <a href=\"https://hdmi2usb.tv\">HDMI2USB</a> website about my plans for 2016 and the <a href=\"https://code.timvideos.us/\">TimVideos project</a>. Last year was an exciting time for my personal projects!</p>\n<blockquote>\n<h1><a href=\"https://hdmi2usb.tv/timvideos/hdmi2usb/2016/01/11/new-year-roadmap/\">TimVideos.us 2016 New Year‚Äôs Resolutions</a></h1>\n<hr/>\n<p>Hello everyone,</p>\n<p>Hope everyone has had an awesome start to 2016 so far. As is tradition in many western countries, I thought I would put together some <a href=\"https://en.wikipedia.org/wiki/New_Year%27s_resolution\">New Year‚Äôs Resolutions</a> and reflect on our progress in 2015. I guess more business minded people might call it a ‚Äúproject roadmap‚Äù üôÇ</p>\n<h3 id=\"timvideos-project\"><a href=\"https://code.timvideos.us/\">TimVideos Project</a></h3>\n<p>In 2015, I decided to focus the <a href=\"https://code.timvideos.us/\">TimVideos project</a> on the <a href=\"https://hdmi2usb.tv/\">HDMI2USB project</a>. The three key results of this focus were;</p>\n<ul>\n<li>Starting and completing a <a href=\"https://github.com/timvideos/HDMI2USB-misoc-firmware\">rewrite of the HDMI2USB firmware</a> based on the <a href=\"http://m-labs.hk/gateware.html\">Migen and MiSoC system developed by M-Labs</a>.</li>\n<li>Launching a <a href=\"http://crowdsupply.com/numato-lab/opsis\">successful crowdfunding campaign</a> for <a href=\"https://github.com/timvideos/HDMI2USB-numato-opsis-hardware\">Numato Opsis</a>, our first open hardware for the HDMI2USB firmware.</li>\n<li>Having the HDMI2USB firmware on Atlys boards used in production by multiple people!\n<ul>\n<li>Carl Karsten from <a href=\"http://nextdayvideo.com/\">NextDayVideo</a> in the US for both PyCon ZA and Nodevember.</li>\n<li>The <a href=\"https://wiki.debconf.org/wiki/Videoteam\">DebConf Video team</a> for their <a href=\"https://wiki.debian.org/DebianEvents/gb/2015/MiniDebConfCambridge#Video\">MiniDebConf in November</a>.</li>\n<li><a href=\"https://www.youtube.com/user/mithro\">Myself for recording</a> my own talks on the HDMI2USB project at user groups here in Sydney!</li>\n</ul>\n</li>\n</ul>\n<p>With the success of this focus in 2015, the <a href=\"https://code.timvideos.us/\">TimVideos project</a> is going to continue to focus on the<a href=\"https://hdmi2usb.tv/\">HDMI2USB project</a> for 2016 (and I‚Äôll go into more detailed goals shortly).</p>\n<p>The <a href=\"https://code.timvideos.us/\">TimVideos project</a> has also been mildly successful in collaborating with other open source groups doing things related to video recording and production. In 2016, I hope we can strengthen these bonds and forge new ones. Some specific goals around this include;</p>\n<ul>\n<li>Getting the TimVideos project to join <a href=\"https://sfconservancy.org/\">Software Freedom Conservancy</a> (or similar organisation).</li>\n<li>Figure out the right way to collaborate with the <a href=\"https://c3voc.de/\">C3VOC team</a> on <a href=\"https://github.com/voc/voctomix\">voctomix</a> and start adding missing features from <a href=\"https://github.com/timvideos/gst-switch\">gst-switch</a> allowing that project to be retired.</li>\n<li>Continue to work with supporting groups like <a href=\"http://nextdayvideo.com/\">NextDayVideo</a>, the <a href=\"https://wiki.debconf.org/wiki/Videoteam\">DebConf Video team</a> and <a href=\"https://linux.org.au/\">Linux Australia</a>.</li>\n<li>Support and help <a href=\"http://hamsterworks.co.nz/mediawiki/index.php/FPGA_Projects\">Mike ‚ÄúHamster‚Äù Field</a> continue to develop a <a href=\"https://github.com/hamsternz/FPGA_DisplayPort\">fully open source DisplayPort core</a>.</li>\n<li>Collaborate with the <a href=\"http://apertus.org/\">apertus¬∞ project</a> on high end (4k and greater!) video capture and processing.</li>\n</ul>\n<h3 id=\"hdmi2usb-project\"><a href=\"https://hdmi2usb.tv\">HDMI2USB Project</a></h3>\n<p>As we are concentrating on the <a href=\"https://hdmi2usb.tv\">HDMI2USB project</a>, we have some specific goals around that.</p>\n<p>HDMI2USB <strong>firmware</strong> goals;</p>\n<ul>\n<li>Refactor the HDMI core to allow support a wider range of interfaces, better debugging and addition of more features. A document about the refactor has been <a href=\"https://docs.google.com/a/mithis.com/document/d/1L8lz7u2uj6MrzSQv4b1Vk6Rmic26okyRklOju5IWLYA/edit?usp=drive_web\">started here</a>.</li>\n<li>Add support for the <a href=\"https://hdmi2usb.tv/timvideos/hdmi2usb/2016/01/11/new-year-roadmap/\">high-speed GTP transceivers</a> and <a href=\"http://hamsterworks.co.nz/mediawiki/index.php/FPGA_Projects\">Mike ‚ÄúHamster‚Äù Field</a> <a href=\"https://github.com/hamsternz/FPGA_DisplayPort\">open source DisplayPort core</a>.</li>\n<li>Get Ethernet support working (on both the Atlys and Opsis boards). The two major Ethernet features are;\n<ul>\n<li>Ethernet supports identical capture and control feature set to the USB port.</li>\n<li>Allowing HDMI2USB boards to act has ‚ÄúHDMI over Ethernet extenders‚Äù.</li>\n</ul>\n</li>\n<li><a href=\"https://hdmi2usb.tv/potential-boards/\">Support for more hardware</a>;\n<ul>\n<li>miniSpartan6+</li>\n<li>Digilent Nexys Video</li>\n<li>New HDMI2USB designed hardware!</li>\n</ul>\n</li>\n<li>Stretch Goals (1)\n<ul>\n<li>Add support for <a href=\"https://docs.google.com/document/d/1ZjM1Brrks0lg1CJp2Rt1BH8-MhJamrKUeCUB4s4nzoA/edit\">hardware based mixing</a>.</li>\n<li>Have either a RTOS or Linux running on the FPGA softcore.</li>\n</ul>\n</li>\n</ul>\n<p>HDMI2USB <strong>hardware</strong> goals;</p>\n<ul>\n<li>(By end of year) Development of a low cost PCI-Express capture card.</li>\n<li>(By middle 2017) Development of an Opsis V2 based around either an high end Artix-7 or a low end Kintex-7 FPGA.</li>\n</ul>\n<p><em>(1): Stretch goals are things we plan to try and achieve if things go well.</em></p>\n<p>Hope this update give you an idea of what we have planned for 2016! We would love your help making it all possible.</p>\n<p>Tim ‚Äòmithro‚Äô Ansell</p></blockquote>\n</div>",
    "date": "2016-01-15T01:00:58+10:00",
    "categories": [
      "Lca"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "This is a cross post from the HDMI2USB website about my plans for 2016 and the TimVideos project. Last year was an exciting time for my personal projects! TimVideos.us 2016...",
    "slug": "timvideos-us-2016-new-years-resolutions"
  },
  {
    "url": "https://blog.mithis.net/archives/timvideos-us/2045-first-v2-hdmi2usb-production-board-constructed",
    "title": "First V2 ‚ÄúHDMI2USB Production Board‚Äù constructed!",
    "content": "<div class=\"entry-content\">\n<p>For the last year and a half, I have been working with <a href=\"numato.com\">Numato Labs</a> to create a ‚ÄúHDMI2USB Production Board‚Äù for our <a href=\"https://github.com/timvideos/HDMI2USB\">HDMI2USB firmware</a> that was originally developed on the <a href=\"digilentinc.com/atlys/\">Digilent Atlys board</a>. On Friday, they sent me a picture of the first constructed board!</p>\n<div class=\"wp-caption aligncenter\" id=\"attachment_2046\" style=\"width: 671px\"><a href=\"https://blog.mithis.net/wp-content/uploads/2015/07/HDMI2USB-Prod-V2.jpg\"><img alt='HDMI2USB \"Production Board\" Version 2' class=\"wp-image-2046\" height=\"436\" sizes=\"(max-width: 661px) 100vw, 661px\" src=\"https://blog.mithis.net/wp-content/uploads/2015/07/HDMI2USB-Prod-V2-1024x675.jpg\" srcset=\"https://blog.mithis.net/wp-content/uploads/2015/07/HDMI2USB-Prod-V2-1024x675.jpg 1024w, https://blog.mithis.net/wp-content/uploads/2015/07/HDMI2USB-Prod-V2-300x197.jpg 300w, https://blog.mithis.net/wp-content/uploads/2015/07/HDMI2USB-Prod-V2-900x593.jpg 900w\" width=\"661\"/></a><p class=\"wp-caption-text\">HDMI2USB ‚ÄúProduction Board‚Äù Version 2</p></div>\n<p>At the end of last year, we decided to abandon our first attempt and start again from scratch, this picture is the¬†result of that work. Some of the reasons we decided to start from scratch was;</p>\n<ul>\n<li>A ‚Äúde facto standard‚Äù for locking HDMI ports¬†was established and low cost connectors became available. This meant we no longer needed to support both DVI and HDMI connectors, reducing the complexity significantly and solving some persistent issues.</li>\n<li>Not only did the cost of¬†Spartan 6 parts with high speed ‚ÄúGTP‚Äù transceivers drop but our understanding of how to use them increased. This would allow¬†us to create a board which natively supports DisplayPort.</li>\n<li>The idea streaming via not only USB, but also Ethernet became a stronger possibility, meaning the extra cost of adding ethernet was now worth it.</li>\n</ul>\n<p dir=\"ltr\">Overall,¬†our board has the following¬†differences with the Atlys board;</p>\n<ul style=\"color: rgb(34, 34, 34);\">\n<li><span style=\"color: rgb(34, 34, 34);\">Has DDR3 memory instead of DDR2, increasing the memory bandwidth.</span></li>\n<li>Has a Spartan S6LX45<strong>T</strong> with the GTP broken out to DisplayPort headers.</li>\n<li><span style=\"color: rgb(34, 34, 34);\">Has a PCI-Express style expansion connector instead of the expensive VHDCI connector, allow much cheaper expansion boards.</span></li>\n<li><span style=\"color: rgb(34, 34, 34);\">Has all the extra pins on the FX2, increasing the potential USB interface options.</span></li>\n<li>Has control over all the HDMI functionality, including hot plug and CEC functionality.</li>\n<li><span style=\"color: rgb(34, 34, 34);\">Removes parts we don‚Äôt need such as the audio,¬†</span>buttons, switches and LEDs.</li>\n<li>Mounts in any ITX style computer case.</li>\n<li><span style=\"color: rgb(34, 34, 34);\">Adds UTMI USB (as well as the Cypress FX2)</span></li>\n<li><span style=\"color: rgb(34, 34, 34);\">Adds MicroSD connector.</span></li>\n</ul>\n</div>",
    "date": "2015-07-05T14:47:57+10:00",
    "categories": [
      "Timvideos Us"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "For the last year and a half, I have been working with Numato Labs to create a ‚ÄúHDMI2USB Production Board‚Äù for our HDMI2USB firmware that was originally developed on the...",
    "slug": "first-v2-hdmi2usb-production-board-constructed"
  },
  {
    "url": "https://blog.mithis.net/archives/timvideos-us/2009-hdmi2usb-production-board-bring-up-day-8-28th-july-2014",
    "title": "HDMI2USB ‚Äì Production Board Bring Up ‚Äì Day 8 (28th July 2014)",
    "content": "<div class=\"entry-content\">\n<ul>\n<li>Updated the <a href=\"https://docs.google.com/a/mithis.com/spreadsheets/d/10vNcsOAxnuiwc5diespjIepMySxhR0iVZfYxouq4p-E/edit#gid=1936356070\">HDMI2USB variant spreadsheet</a> with new Numato board pin out.</li>\n<li>Successfully generated a HDMI2USB firmware for Numato board with new pin information. That fixes the constraint issue!</li>\n<li>Successfully generated a HDMI2USB firmware for Numato board with second receive port (RX2) disabled!\n<ul>\n<li>Was¬†able to view the HDMI2USB test image output on TX2!</li>\n<li>Was able to capture the HDMI2USB test image via mplayer!</li>\n<li>Was unable to detect a screen on RX1.</li>\n</ul>\n</li>\n<li>Created a ‚Äúflash.sh‚Äù script to use libFPGALink to flash the FPGA and then load the Cypress firmware.</li>\n<li>Wrote a Python script to interrogate¬†the CDC serial port for status of the firmware.</li>\n</ul>\n</div>",
    "date": "2014-07-29T00:13:02+10:00",
    "categories": [
      "Timvideos Us"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "Updated the HDMI2USB variant spreadsheet with new Numato board pin out. Successfully generated a HDMI2USB firmware for Numato board with new pin information. That fixes the constraint issue! Successfully generated...",
    "slug": "hdmi2usb-production-board-bring-up-day-8-28th-july-2014"
  },
  {
    "url": "https://blog.mithis.net/archives/timvideos-us/2003-hdmi2usb-production-board-bring-up-day-5-6-and-7th-25th-26th-and-27th-july-2014",
    "title": "HDMI2USB ‚Äì Production Board Bring Up ‚Äì Day 5, 6 and 7 (25th, 26th and 27th July 2014)",
    "content": "<div class=\"entry-content\">\n<h2>25th July 2014</h2>\n<ul>\n<li>Setup <a href=\"https://github.com/xobs\">xob</a>‚Äòs hacked up <a href=\"https://github.com/timvideos/HDMI2USB/pull/69\">colormake in our build system</a>. Nice colorized output now!</li>\n<li>Fought more with\n<pre>ERROR:Place - Constraint Resolved NO placeable site for hdmiMatri_Comp/dvi_rx1/ioclk_buf issue</pre>\n</li>\n<li>Watched <a href=\"https://www.youtube.com/watch?v=xuK6udkbyGo\">Paul Fenwick‚Äôs OSCon Keynote</a>.</li>\n</ul>\n<p><strong>Streaming System Hacking</strong></p>\n<ul>\n<li>Made the configuration system better and adding a lot of comments to the json file (which isn‚Äôt really valid json any more).</li>\n<li>Made pycon2internal.py slightly better and able to parse PyOhio format (based on the PyCon US format).</li>\n<li>Added hack to make event2internal.py to use pycon2internal.py at some periods.</li>\n<li>Set up a bunch of encoders in the Oregon EC2 region.</li>\n<li>Get access to www.timvideos.us again and deployed the updated website.</li>\n</ul>\n<p>¬†</p>\n<h2>26th July 2014</h2>\n<ul>\n<li>Went into the <a href=\"http://hackerspace-adelaide.org.au/\">Adelaide Hackerspace</a> and created a cable to interface the <a href=\"http://www.microchip.com/wwwproducts/Devices.aspx?product=USB3300\">USB3300 ULPI</a> chip to 2xPMOD headers.</li>\n<li>Got streaming working for day 1 of <a href=\"http://pyohio.org\">PyOhio</a>, it was late as we were disorganised.</li>\n<li><a href=\"http://aps-sids.github.io/\">aps-sids</a> foolishly pointed out a bug in the title of the streaming system, so I <a href=\"http://logs.timvideos.us/%23timvideos/%23timvideos.2014-07-26.log.html#t2014-07-26T16:15:22\">taught him</a>¬†about how we actually flumotion for an event.</li>\n</ul>\n<p>¬†</p>\n<h2>¬†27th July 2014</h2>\n<ul>\n<li>Did a lot of spreadsheet hacking on the production board pin planning spreadsheet;\n<ul>\n<li>Added half bank / BUFIO2 regions.</li>\n<li>Added dedicated clock pin information.</li>\n</ul>\n</li>\n<li>Started work on reshuffling the pins to fix the timing issue.</li>\n<li>Helped aps-sids get <a href=\"https://github.com/timvideos/flumotion/tree/modern-twisted-fix\">Flumotion working on the latest Twisted release</a>. Turned out that <a href=\"http://lists.fluendo.com/pipermail/flumotion-devel/2014-January/000698.html\">someone else</a> had already done most of the work and only a couple very small fixes where needed. <a href=\"http://logs.timvideos.us/%23timvideos/%23timvideos.2014-07-28.log.html#t2014-07-28T05:43:23\">aps-sids reported</a> that he was now able to run flumotion on Ubuntu Trusty!</li>\n</ul>\n<p>¬†</p>\n</div>",
    "date": "2014-07-28T23:39:31+10:00",
    "categories": [
      "Timvideos Us"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "25th July 2014 Setup xob‚Äòs hacked up colormake in our build system. Nice colorized output now! Fought more with ERROR:Place - Constraint Resolved NO placeable site for hdmiMatri_Comp/dvi_rx1/ioclk_buf issue Watched...",
    "slug": "hdmi2usb-production-board-bring-up-day-5-6-and-7th-25th-26th-and-27th-july-2014"
  },
  {
    "url": "https://blog.mithis.net/archives/timvideos-us/1995-hdmi2usb-production-board-bring-up-day-4-24th-july-2014",
    "title": "HDMI2USB ‚Äì Production Board Bring Up ‚Äì Day 4 (24th July 2014)",
    "content": "<div class=\"entry-content\">\n<p>Generally slow progress today, but some success.</p>\n<ul>\n<li>Able to successfully load libFPGALink firmware¬†onto Cypress chip and programmed the FPGA using it. Yay!</li>\n<li>Wrote a test firmware based on¬†http://hamsterworks.co.nz/mediawiki/index.php/DVI-D_Serdes to transmit 720p output from both the TX ports.\n<ul>\n<li>Images are successfully received on both devices but there is a weird artifact in the image.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p style=\"text-align: center;\">¬†<a href=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_0029322.jpg\"><img alt=\"Numato HDMI2USB Prototype driving 2 screens\" class=\"alignnone wp-image-1997 size-medium\" height=\"300\" sizes=\"(max-width: 225px) 100vw, 225px\" src=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_0029322-225x300.jpg\" srcset=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_0029322-225x300.jpg 225w, https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_0029322-768x1024.jpg 768w, https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_0029322-900x1200.jpg 900w\" width=\"225\"/>¬†¬†<img alt=\"HDMI2USB weird image artifact\" class=\"alignnone wp-image-1998\" height=\"300\" sizes=\"(max-width: 400px) 100vw, 400px\" src=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_003008-300x225.jpg\" srcset=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_003008-300x225.jpg 300w, https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_003008-1024x768.jpg 1024w, https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_003008-900x675.jpg 900w\" width=\"400\"/></a></p>\n</blockquote>\n<ul>\n<li><a href=\"http://dreamsxtrinsic.blogspot.com.au/\">Rohit‚Äôs VGA expansion board</a> was received, but yet to turn it on. Looking forward to seeing that working live!</li>\n</ul>\n<p><a href=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_010725.jpg\"><img alt=\"HDMI2USB - Rohit's VGA Capture board\" class=\"aligncenter wp-image-2000 size-medium\" height=\"300\" sizes=\"(max-width: 225px) 100vw, 225px\" src=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_010725-225x300.jpg\" srcset=\"https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_010725-225x300.jpg 225w, https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_010725-768x1024.jpg 768w, https://blog.mithis.net/wp-content/uploads/2014/07/IMG_20140725_010725-900x1200.jpg 900w\" width=\"225\"/></a></p>\n<p>¬†</p>\n<ul>\n<li>Set up the streaming system for <a href=\"http://nextdayvideo.com\">Carl</a> and <a href=\"http://www.pyohio.org/\">PyOhio</a>\n<ul>\n<li>Tried to figure out where www.timvideos.us was hosted.</li>\n</ul>\n</li>\n</ul>\n</div>",
    "date": "2014-07-25T12:18:12+10:00",
    "categories": [
      "Timvideos Us"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "Generally slow progress today, but some success. Able to successfully load libFPGALink firmware onto Cypress chip and programmed the FPGA using it. Yay! Wrote a test firmware based on http://hamsterworks.co.nz/mediawiki/index.php/DVI-D_Serdes...",
    "slug": "hdmi2usb-production-board-bring-up-day-4-24th-july-2014"
  },
  {
    "url": "https://blog.mithis.net/archives/timvideos-us/1993-hdmi2usb-production-board-bring-up-day-3-23rd-july-2014",
    "title": "HDMI2USB ‚Äì Production Board Bring Up ‚Äì Day 3 (23rd July 2014)",
    "content": "<div class=\"entry-content\">\n<ul>\n<li>Looked into if Travis CI has IPv6 connectivity. <a href=\"https://travis-ci.org/mithro/temp/builds/30607921\">It appears so!</a></li>\n<li>Investigated git server side hooks as a method to run CI on build.timvideos.tv\n<ul>\n<li>Travis-CI does a git push to build.timvideos.tv which does a make in the post-recieve.</li>\n<li>Issues;\n<ul>\n<li>For non-pull requests we could encode the private key using Travis‚Äôs encrypted environment variables.</li>\n<li>What about pull requests? Mean anyone can send arbitrary code to build.timvideos.tv ‚Äì Maybe use QEmu‚Äôs COW support and reboot after each build?</li>\n</ul>\n</li>\n<li>Looked a jig for a nice way to write the git¬†hooks.\n<ul>\n<li><a href=\"https://github.com/robmadole/jig/pull/8\">Sent a pull request</a> to fix some documentation.</li>\n<li>Really designed to run as a ‚Äúpre-commit‚Äù hook locally on a person‚Äôs machine rather than a server side hook. <a href=\"https://github.com/robmadole/jig/issues/9\">Logged an issue to discuss that.</a></li>\n<li>Has a lot of nice plugins for Python development already.</li>\n<li>Would allow us to add hdl-pretty as a commit hook.</li>\n</ul>\n</li>\n<li>Alternatives to jig appear to be;\n<ul>\n<li>https://github.com/icefox/git-hooks ‚Äì Written in bash</li>\n<li>https://pypi.python.org/pypi/git-pre-commit-hook ‚Äì Written in python</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Got my ‚Äúfake‚Äù Xilinx Platform Cable USB (Model DLC9G) working under Linux ‚Äì Full instructions can be found at¬†<a href=\"https://github.com/timvideos/HDMI2USB/wiki/Xilinx-Platform-Cable-USB-under-Linux\">https://github.com/timvideos/HDMI2USB/wiki/Xilinx-Platform-Cable-USB-under-Linux</a>\n<ul>\n<li>The device was <a href=\"http://www.ebay.com.au/itm/Xilinx-Platform-USB-Download-Cable-Jtag-Programmer-for-FPGA-CPLD-C-Mod-XC2C64A/390809652326\">purchased from eBay</a>¬†on the 11th July, costed $37 USD with shipping and arrived at Joel‚Äôs house on Monday.</li>\n<li>First issue was¬†/opt/Xilinx/14.7/ISE_DS/ISE/bin/lin64/setup_pcusb didn‚Äôt understand I had udev and was trying to install for the ancient hotplug.\n<ul>\n<li>Fixed by changing line 26 from¬†TP_USE_UDEV=‚Äù0‚Ä≥ to TP_USE_UDEV=‚Äù1‚Ä≥</li>\n</ul>\n</li>\n<li>Next setup_pcusb didn‚Äôt tell udev to reload the udev rules. Had to do that with¬†udevadm control ‚Äìreload-rules</li>\n<li>Next setup_pcusb didn‚Äôt ask me to install fxload, so I needed to install it with apt-get install fxload</li>\n<li>Next the rules that were installed to¬†/etc/udev/rules.d/xusbdfwu.rules were invalid; they caused the following errors in /var/log/daemon.log</li>\n</ul>\n</li>\n</ul>\n<pre style=\"padding-left: 90px;\">Jul 23 16:40:29 laptop¬†udevd[841]: unknown key 'SYSFS{idVendor}' in /etc/udev/rules.d/xusbdfwu.rules:2\r\nJul 23 16:40:29 laptop¬†udevd[841]: invalid rule '/etc/udev/rules.d/xusbdfwu.rules:2'\r\nJul 23 16:46:11 laptop udevd[841]: unknown key 'SYSFS{idVendor}' in /etc/udev/rules.d/xusbdfwu.rules:3\r\nJul 23 16:46:11 laptop¬†udevd[841]: invalid rule '/etc/udev/rules.d/xusbdfwu.rules:3'</pre>\n<ul>\n<ul>\n<li>This was fixed with;\n<ul>\n<li>Changing¬†SYSFS to¬†ATTRS</li>\n<li>Changing BUS to SUBSYSTEM</li>\n<li>Changing $TEMPNODE to $tempnode</li>\n</ul>\n</li>\n<li>The little status light then turned on red! Yay!</li>\n<li>Was able to do a boundary scan in iMPACT on a Zybo development board after soldering a header onto it.</li>\n</ul>\n</ul>\n<ul>\n<li>Received the HDMI2USB production boards created by <a href=\"http://numato.com/\">Numato</a>!\n<ul>\n<li>Started with bunch of stuff to do with LEDs;\n<ul>\n<li>Logged issues about LEDs not been label intelligently. Such as the ‚Äúpower‚Äù LED being labeled ‚ÄúD33‚Äù.</li>\n<li>Researched the DONE net again so I could understand the D2 LED (which should be named D_FPGA_NOT_CONFIGURED or DNCFG for short). Started adding the information to the JTAG/Reset documentation.</li>\n<li>Figured out why D3 (connected to the Cypress INT1 pin) was only faintly lit.</li>\n</ul>\n</li>\n<li>Logged a bunch of issue regarding small silk screen fixes to make future boards easier to understand.</li>\n<li>Logged an issue about adding some standoffs in the center of the board for mechanical stability.</li>\n<li>Logged an issue about having a good GND point to connect your probe too.\n<ul>\n<li>This page describes the two good ways to add a GND test point ‚Äì http://www.robotroom.com/PCB-Layout-Tips.html</li>\n</ul>\n</li>\n<li>Starting researching the 5V rail and if we could remove it totally (thus saving a bunch of stuff). Looks like we can, but needs more investigation.</li>\n<li>After replacing the JTAG cable was able to use iMPACT to boundary scan and it found Spartan 6 chip!</li>\n</ul>\n</li>\n<li>Discovered CEC is 3V3 signal.</li>\n</ul>\n<h3>Non HDMI2USB stuff</h3>\n<ul>\n<li>Tried to figure out why my home router has decided that it wants to hand out address in the¬†2001:44b8:31dc:8d01::/64 rather than the¬†2001:44b8:31dc:8d00::/64 range it use too.</li>\n<li>Found a bunch of issues with domains served of ns1.mithis.com as the secondary servers where disabled. Root cause was an old version of PowerDNS failing on TCP zone transfers causing domains to become stale and get dropped from the secondaries. Enabled email notification when secondary disables the zones.</li>\n</ul>\n<p>¬†</p>\n</div>",
    "date": "2014-07-24T01:54:52+10:00",
    "categories": [
      "Timvideos Us"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "Looked into if Travis CI has IPv6 connectivity. It appears so! Investigated git server side hooks as a method to run CI on build.timvideos.tv Travis-CI does a git push to...",
    "slug": "hdmi2usb-production-board-bring-up-day-3-23rd-july-2014"
  },
  {
    "url": "https://blog.mithis.net/archives/timvideos-us/1988-hdmi2usb-production-board-bring-up-day-2-22nd-july-2014",
    "title": "HDMI2USB ‚Äì Production Board Bring Up ‚Äì Day 2 (22nd July 2014)",
    "content": "<div class=\"entry-content\">\n<h3>Non-HDMI2USB related stuff</h3>\n<ul>\n<li>Answered a bunch of work emails.</li>\n<li>Read and¬†answered bunch of PyCon AU related emails.</li>\n<li>Fix <a href=\"https://dlv.isc.org\">DLV records</a> for a bunch of domains.</li>\n<li>Helped <a href=\"http://aps-sids.github.io/porting-flumotion/2014/07/21/flumotion-dvswitch-problems/\">aps-sids with flumotion porting work</a>.</li>\n</ul>\n<h3>HDMI2USB related stuff</h3>\n<ul>\n<li>Worked from Joel‚Äôs house today to <a href=\"https://www.fedex.com/fedextrack/html/oldindex.html?tracknumbers=770633168459&amp;cntry_code=au&amp;language=en\">receive the production HDMI2USB boards</a>, they didn‚Äôt turn up üôÅ</li>\n<li>Create a <a href=\"build.hdmi2usb.tv\">trusty VM on server</a>¬†for Joel to setup HDMI2USB CI on.</li>\n<li>Investigated origin of files in HDMI2USB code. Current status seems to be;\n<ul>\n<li>hdl/edid ‚Äì Written by us (Jahanzeb).</li>\n<li>hdl/hdmi ‚Äì Mostly written by Xilinx and released in application notes. Need to figure out the exact licensing of the files (are they MIT? Only for use on Xilinx parts?) and move them to third party.</li>\n<li>hdl/jpeg_encoder ‚Äì OpenCores mkjpeg core. Need to move to third party.</li>\n<li>hdl/usb ‚Äì Written by us (Jahanzeb).</li>\n<li>ipcore_dir ‚Äì Cores generated by Xilinx.¬†Need to figure out the exact licensing of the files (are they MIT? Only for use on Xilinx parts?) and move them to third party.</li>\n<li>cypress ‚Äì Confusing mess.¬†We know this and plan to <a href=\"https://github.com/timvideos/HDMI2USB/issues/16\">rewrite the firmware using only FOSS tools</a>.\n<ul>\n<li>Bunch of proprietary binary blobs.</li>\n<li>Bunch of headers of unknown copyright.</li>\n<li>Bunch of code written by us.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Logged a lot of bugs about warnings Xilinx tools are generating when compiling the firmware.</li>\n<li>Made generate_ucf.py generate¬†a file for Atlys functionally identical to existing HDMI2USB.ucf file. Was able to successfully build the firmware with generate HDMI2USB.ucf file for the Atlys board.</li>\n<li>Started trying to get firmware to compile with the Numato HDMI2USB.ucf file, ran into the following issue</li>\n</ul>\n<blockquote>\n<pre style=\"padding-left: 30px;\">Phase 4.2 Initial Placement for Architecture Specific Features\r\nERROR:Place - ConstraintResolved NO placeable site for\r\n hdmiMatri_Comp/dvi_rx1/ioclk_buf</pre>\n<pre style=\"padding-left: 30px;\">ERROR:Place - SIO has over-constrained componet hdmiMatri_Comp/dvi_rx1/ioclk_buf\r\n to have to placeable sites. Constraints come from driver constraints AND load\r\n IO constraints\r\n/bin/sh: line 16: 28981 Segmentation fault (core dumped) map -filter \"../ise/iseconfig/filter.filter\" -intstyle ise -p xc6slx45-csg324-3 -w -logic_opt off -ol high -xe n -t 1 -xt 0 -register_duplication off -r 4 -global_opt off -mt off -ir off -pr b -lc off -power off -o hdmi2usb_map.ncd hdmi2usb.ngd hdmi2usb.pcf\r\nmake: *** [map] Error 139</pre>\n</blockquote>\n<ul>\n<li>Rohit GSoC mentoring;\n<ul>\n<li>Emailed Rohit about reimbursement for VGA Board hardware parts.</li>\n<li>Rohit has <a href=\"http://www.dhl.com/content/g0/en/express/tracking.shtml?brand=DHL&amp;AWB=7654078014%0D%0A\">shipped me a board</a> which should arrive at Joel‚Äôs tomorrow.</li>\n<li>Weekly mentoring meeting.</li>\n<li>Reviewed Rohit‚Äôs weekly summary blog post.</li>\n<li>Reviewed Rohit‚Äôs VGA board V2 schematic.</li>\n<li>Reviewed Rohit‚Äôs VGA board V2 PCB.</li>\n</ul>\n</li>\n</ul>\n</div>",
    "date": "2014-07-23T01:32:55+10:00",
    "categories": [
      "Timvideos Us"
    ],
    "tags": [],
    "author": "mithro",
    "excerpt": "Non-HDMI2USB related stuff Answered a bunch of work emails. Read and answered bunch of PyCon AU related emails. Fix DLV records for a bunch of domains. Helped aps-sids with flumotion...",
    "slug": "hdmi2usb-production-board-bring-up-day-2-22nd-july-2014"
  }
]